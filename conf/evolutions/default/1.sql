# --- database schema

# --- !Ups
USE PUBLIC;
CREATE TABLE CONSUMER (
    id BIGINT(20) PRIMARY KEY AUTO_INCREMENT, 
    name VARCHAR(20) NOT NULL, 
    email VARCHAR(20) NOT NULL, 
    mob VARCHAR(15) NOT NULL
);
    
INSERT INTO CONSUMER VALUES(111, 'aaa', 'aaa@gmail.com','9876543210');
INSERT INTO CONSUMER VALUES(222, 'bbb', 'bbb@gmail.com','9888777666');


CREATE TABLE PRODUCT (
    id BIGINT(20) PRIMARY KEY, 
    name VARCHAR(20) NOT NULL, 
    items INT(5) NOT NULL, 
    price INT(10) NOT NULL,
    desc VARCHAR(20)
);

INSERT INTO PRODUCT VALUES(456, 'Pendrive', 100, 300, 'Transcend');
INSERT INTO PRODUCT VALUES(119, 'USB Mouse', 30, 250, 'iBall');
INSERT INTO PRODUCT VALUES(327, 'KeyBoard', 15, 500, 'HP');

CREATE TABLE PURCHASE (
    id BIGINT(20) PRIMARY KEY AUTO_INCREMENT,
    custId BIGINT(20), 
    productId BIGINT(20), 
    items INT(5) NOT NULL, 
    buyDate Date NOT NULL
  
);

INSERT INTO PURCHASE VALUES(1, 111, 456, 6, '2015-07-07');
INSERT INTO PURCHASE VALUES(2, 111, 119, 4, '2015-09-01');
INSERT INTO PURCHASE VALUES(3, 111, 327, 2, '2016-11-03');
INSERT INTO PURCHASE VALUES(7, 111, 456, 5, '2016-11-04');

INSERT INTO PURCHASE VALUES(4, 222, 456, 2, '2014-01-03');
INSERT INTO PURCHASE VALUES(5, 222, 119, 1, '2015-05-12');
INSERT INTO PURCHASE VALUES(6, 222, 327, 4, '2016-10-13');


# --- !Downs

DROP TABLE IF EXIST CONSUMER;
DROP TABLE IF EXIST PRODUCT;
DROP TABLE IF EXIST PURCHASE;